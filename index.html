<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>FYO Platform | Ù…Ù†ØµØ© Ø§Ù„ØªÙ…ÙŠØ² Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700&family=Tajawal:wght@400;500;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --card-bg: #111111;
            --primary-gold: #e2b74a;
            --secondary-gold: #9b7a2d;
            --text-main: #ffffff;
            --text-dim: #a0a0a0;
            --accent-blue: #007bff;
            --fire-color: #ff5e00;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            overflow: hidden;
        }

        /* --- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙØ§Ø®Ø±Ø© --- */
        #login-screen {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
            position: fixed; width: 100%; z-index: 9999;
        }

        .login-box {
            background: var(--card-bg);
            padding: 50px;
            border-radius: 30px;
            border: 1px solid rgba(226, 183, 74, 0.2);
            text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            width: 380px;
        }

        .login-box h1 {
            font-size: 3rem; margin: 0; color: var(--primary-gold); font-weight: 800;
            letter-spacing: 2px;
        }

        .input-field {
            width: 100%; padding: 15px; margin: 10px 0;
            background: #1a1a1a; border: 1px solid #333;
            border-radius: 12px; color: white; font-size: 1rem;
            outline: none; transition: 0.3s;
        }

        .input-field:focus { border-color: var(--primary-gold); }

        .login-btn {
            width: 100%; padding: 15px; margin-top: 20px;
            background: linear-gradient(135deg, var(--primary-gold), var(--secondary-gold));
            border: none; border-radius: 12px; font-weight: bold;
            cursor: pointer; font-size: 1.1rem; color: #000;
        }

        /* --- Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ --- */
        #dashboard {
            display: none; height: 100vh; grid-template-columns: 280px 1fr;
        }

        /* Sidebar */
        .sidebar {
            background: var(--card-bg);
            border-left: 1px solid rgba(255,255,255,0.05);
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            padding: 15px; margin: 5px 0; border-radius: 10px;
            cursor: pointer; color: var(--text-dim); transition: 0.3s;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(226, 183, 74, 0.1); color: var(--primary-gold);
        }

        /* Content Area */
        .content { padding: 40px; overflow-y: auto; background: #080808; }

        .header-bar {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 40px;
        }

        .streak-container {
            background: rgba(255, 94, 0, 0.1);
            padding: 10px 25px; border-radius: 50px;
            border: 1px solid var(--fire-color);
            display: flex; align-items: center; gap: 10px;
        }

        .streak-num { color: var(--fire-color); font-weight: 800; font-size: 1.2rem; }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .grid-layout { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        
        .card {
            background: var(--card-bg); border-radius: 20px;
            padding: 20px; border: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
        }

        .card:hover { transform: translateY(-10px); border-color: var(--primary-gold); }

        .file-icon { font-size: 2rem; color: var(--primary-gold); margin-bottom: 15px; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Admin) */
        .admin-section {
            background: #161616; padding: 30px; border-radius: 25px;
            margin-bottom: 30px; border: 1px dashed var(--primary-gold);
        }

        .user-pill {
            display: inline-block; background: #333; padding: 5px 15px;
            border-radius: 20px; margin: 5px; font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h1>FYO</h1>
            <p style="color: var(--text-dim); margin-bottom: 30px;">EDUCATIONAL PLATFORM</p>
            <input type="text" id="userIn" class="input-field" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
            <input type="password" id="passIn" class="input-field" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button class="login-btn" onclick="handleLogin()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…</button>
        </div>
    </div>

    <div id="dashboard">
        <div class="sidebar">
            <h2 style="color: var(--primary-gold);">FYO Panel</h2>
            <div class="nav-item active">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
            <div class="nav-item">ğŸ“š Ù…Ù„ÙØ§ØªÙŠ</div>
            <div class="nav-item">ğŸ“ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</div>
            <div id="admin-nav" class="nav-item" style="display: none; color: #ff4d4d;">âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</div>
            <div class="nav-item" onclick="location.reload()" style="margin-top: auto;">ğŸšª Ø®Ø±ÙˆØ¬</div>
        </div>

        <div class="content">
            <div class="header-bar">
                <h2 id="welcomeText">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ Ø·Ø§Ù„Ø¨ FYO Ø§Ù„Ù…ØªÙ…ÙŠØ² ğŸš€</h2>
                <div class="streak-container">
                    <span>STREAK</span>
                    <span class="streak-num" id="streakVal">ğŸ”¥ 1</span>
                </div>
            </div>

            <div id="admin-area" style="display: none;">
                <div class="admin-section">
                    <h3>ğŸ›  Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„)</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <h4>+ Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</h4>
                            <input type="text" id="stName" class="input-field" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
                            <button class="login-btn" style="padding: 10px;" onclick="addUser()">Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø·Ø§Ù„Ø¨</button>
                        </div>
                        <div>
                            <h4>ğŸ“¤ Ø±ÙØ¹ Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØµØµ</h4>
                            <input type="text" id="docName" class="input-field" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù">
                            <p style="font-size: 0.8rem; color: var(--primary-gold);">Ø­Ø¯Ø¯ Ù…Ù† ÙŠØ±Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù:</p>
                            <div id="userChecklist" style="max-height: 100px; overflow-y: auto; background: #000; padding: 10px;">
                                </div>
                            <button class="login-btn" style="padding: 10px;" onclick="uploadFile()">Ù†Ø´Ø± Ù„Ù„Ù…Ø­Ø¯Ø¯ÙŠÙ† ÙÙ‚Ø·</button>
                        </div>
                    </div>
                </div>
            </div>

            <h3 id="contentTitle">Ù…Ù„ÙØ§ØªÙƒ Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>
            <div class="grid-layout" id="filesGrid">
                </div>

            <h3 style="margin-top: 40px;">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h3>
            <div class="grid-layout" id="examsGrid">
                </div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… (ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠ)
        let db = JSON.parse(localStorage.getItem('fyo_db')) || {
            users: [{name: 'admin', pass: 'admin', role: 'admin', streak: 15}],
            files: [],
            exams: []
        };

        let activeUser = null;

        function handleLogin() {
            const u = document.getElementById('userIn').value;
            const p = document.getElementById('passIn').value;

            const user = db.users.find(x => x.name === u && x.pass === p);
            if(user) {
                activeUser = user;
                showDashboard();
            } else {
                alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
            }
        }

        function showDashboard() {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('dashboard').style.display = 'grid';
            document.getElementById('welcomeText').innerText = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ ${activeUser.name} âœ¨`;
            document.getElementById('streakVal').innerText = `ğŸ”¥ ${activeUser.streak || 1}`;

            if(activeUser.role === 'admin') {
                document.getElementById('admin-nav').style.display = 'block';
                document.getElementById('admin-area').style.display = 'block';
                renderUserChecklist();
            }
            renderContent();
        }

        function addUser() {
            const name = document.getElementById('stName').value;
            if(!name) return;
            db.users.push({name: name, pass: '123', role: 'student', streak: 1});
            save();
            renderUserChecklist();
            alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨. ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: 123");
        }

        function renderUserChecklist() {
            const container = document.getElementById('userChecklist');
            container.innerHTML = db.users.filter(u => u.role !== 'admin').map(u => `
                <div><input type="checkbox" value="${u.name}"> ${u.name}</div>
            `).join('');
        }

        function uploadFile() {
            const title = document.getElementById('docName').value;
            const checkboxes = document.querySelectorAll('#userChecklist input:checked');
            const allowedUsers = Array.from(checkboxes).map(cb => cb.value);

            if(allowedUsers.length === 0) { alert("Ø§Ø®ØªØ± Ø·Ø§Ù„Ø¨Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!"); return; }

            db.files.push({title, allowed: allowedUsers});
            save();
            alert("ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­!");
            renderContent();
        }

        function renderContent() {
            const grid = document.getElementById('filesGrid');
            const myFiles = db.files.filter(f => f.allowed.includes(activeUser.name) || activeUser.role === 'admin');
            
            grid.innerHTML = myFiles.map(f => `
                <div class="card">
                    <div class="file-icon">ğŸ“„</div>
                    <h4>${f.title}</h4>
                    <p style="color:var(--text-dim); font-size:0.8rem;">ØªÙ…Øª Ù…Ø´Ø§Ø±ÙƒØªÙ‡ Ù…Ø¹Ùƒ Ø®ØµÙŠØµØ§Ù‹</p>
                    <button class="login-btn" style="padding:8px; font-size:0.8rem;">ÙØªØ­ Ø§Ù„Ù…Ù„Ù</button>
                </div>
            `).join('');

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
            document.getElementById('examsGrid').innerHTML = `
                <div class="card">
                    <div class="file-icon" style="color:var(--accent-blue)">ğŸ“</div>
                    <h4>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ (1)</h4>
                    <img src="https://via.placeholder.com/300x150/111/e2b74a?text=Question+Image" style="width:100%; border-radius:10px;">
                    <button class="login-btn" style="padding:8px; margin-top:10px;">Ø¨Ø¯Ø¡ Ø§Ù„Ø¢Ù†</button>
                </div>
            `;
        }

        function save() {
            localStorage.setItem('fyo_db', JSON.stringify(db));
        }
    </script>
</body>
</html>
