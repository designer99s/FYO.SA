<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© FYO Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ø§Ù„Ù‚Ø¯Ø±Ø§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }

        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff5e62;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --gray: #6c757d;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, var(--dark) 0%, #16213e 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-box {
            background: var(--glass);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: var(--shadow);
            animation: fadeIn 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .login-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
            z-index: -1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            font-size: 2.8rem;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .logo p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: rgba(255,255,255,0.9);
        }

        .form-control {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.2);
            background: rgba(255, 255, 255, 0.12);
        }

        .btn {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(106, 17, 203, 0.4);
        }

        .btn-admin {
            background: linear-gradient(to right, #ff5e62, #ff9966);
        }

        .login-footer {
            text-align: center;
            margin-top: 25px;
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
        }

        /* ØªØµÙ…ÙŠÙ… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .dashboard {
            display: none;
            min-height: 100vh;
        }

        .navbar {
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-logo h2 {
            font-size: 1.8rem;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ØªØµÙ…ÙŠÙ… Ù…Ø­ØªÙˆÙ‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .dashboard-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            padding: 30px 0;
        }

        .sidebar {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            height: fit-content;
            border: 1px solid var(--glass-border);
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            color: rgba(255,255,255,0.8);
        }

        .menu-item:hover, .menu-item.active {
            background: rgba(106, 17, 203, 0.2);
            color: white;
        }

        .menu-item i {
            font-size: 1.2rem;
            width: 25px;
            text-align: center;
        }

        .main-content {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--glass-border);
        }

        .welcome-banner {
            background: linear-gradient(to right, rgba(106, 17, 203, 0.3), rgba(37, 117, 252, 0.3));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .welcome-banner h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* ØªØµÙ…ÙŠÙ… Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.08);
        }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
        }

        thead {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        th, td {
            padding: 15px;
            text-align: right;
        }

        tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .action-btn {
            padding: 8px 15px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin: 0 5px;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .edit-btn {
            background: rgba(45, 204, 112, 0.2);
            color: #2dcc70;
        }

        .delete-btn {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .edit-btn:hover, .delete-btn:hover {
            transform: translateY(-2px);
        }

        /* ØªØµÙ…ÙŠÙ… Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¥Ø¶Ø§ÙØ© */
        .form-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .file-upload:hover {
            border-color: var(--primary);
            background: rgba(106, 17, 203, 0.05);
        }

        .question-options {
            margin-top: 20px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .correct-option {
            background: rgba(0, 184, 148, 0.1);
            border: 1px solid rgba(0, 184, 148, 0.3);
        }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³ØªØ±ÙŠÙƒ */
        .streak-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }

        .streak-days {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .streak-info h3 {
            margin-bottom: 5px;
        }

        /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 992px) {
            .dashboard-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 2;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .login-box {
                padding: 30px 20px;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="logo">
                <h1>FYO</h1>
                <p>Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù‚Ø¯Ø±Ø§Øª</p>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="username" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
                </div>
                
                <div class="form-group">
                    <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                
                <button type="submit" class="btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                <button type="button" class="btn btn-admin" id="adminLogin">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„</button>
            </form>
            
            <div class="login-footer">
                <p>Ù…Ù†ØµØ© FYO Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Â© 2023 - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            </div>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="dashboard" id="dashboard">
        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
        <nav class="navbar">
            <div class="container nav-container">
                <div class="nav-logo">
                    <i class="fas fa-graduation-cap" style="font-size: 2rem; color: #6a11cb;"></i>
                    <h2>Ù…Ù†ØµØ© FYO Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">AD</div>
                    <div>
                        <div id="userName">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</div>
                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.7);" id="userRole">Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</div>
                    </div>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
        </nav>
        
        <!-- Ù…Ø­ØªÙˆÙ‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="container dashboard-content">
            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
            <div class="sidebar">
                <div class="menu-item active" data-section="dashboard-home">
                    <i class="fas fa-home"></i>
                    <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </div>
                
                <div class="menu-item" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</span>
                </div>
                
                <div class="menu-item" data-section="files">
                    <i class="fas fa-file-upload"></i>
                    <span>Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</span>
                </div>
                
                <div class="menu-item" data-section="exams">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</span>
                </div>
                
                <div class="menu-item" data-section="add-exam">
                    <i class="fas fa-plus-circle"></i>
                    <span>Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯</span>
                </div>
                
                <div class="menu-item" data-section="streaks">
                    <i class="fas fa-fire"></i>
                    <span>Ø³ØªØ±ÙŠÙƒ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
                </div>
                
                <div class="menu-item" data-section="subscriptions">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</span>
                </div>
            </div>
            
            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
            <div class="main-content">
                <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
                <div class="welcome-banner" id="welcomeMessage">
                    <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ <span id="greetingName">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</span> ğŸ‘‹</h2>
                    <p>Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ ÙŠÙˆÙ…Ù‹Ø§ Ø¯Ø±Ø§Ø³ÙŠÙ‹Ø§ Ù…Ø«Ù…Ø±Ù‹Ø§ Ø¹Ù„Ù‰ Ù…Ù†ØµØ© FYO Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</p>
                </div>
                
                <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
                <div class="content-section active" id="dashboard-home">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-chart-line"></i> Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</h3>
                    
                    <div class="stats-cards">
                        <div class="stat-card">
                            <i class="fas fa-users"></i>
                            <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h4>
                            <h2 id="totalUsers">0</h2>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-file-alt"></i>
                            <h4>Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</h4>
                            <h2 id="totalFiles">0</h2>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-clipboard-check"></i>
                            <h4>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h4>
                            <h2 id="totalExams">0</h2>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-user-clock"></i>
                            <h4>Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</h4>
                            <h2 id="expiringSubs">0</h2>
                        </div>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
                <div class="content-section" id="users">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-user-cog"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                    
                    <button class="btn" style="width: auto; margin-bottom: 20px;" id="addUserBtn">
                        <i class="fas fa-user-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
                    </button>
                    
                    <div class="table-container">
                        <table id="usersTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                                    <th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</th>
                                    <th>Ù…Ø¯Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</th>
                                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© -->
                <div class="content-section" id="files">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-folder-open"></i> Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h3>
                    
                    <button class="btn" style="width: auto; margin-bottom: 20px;" id="addFileBtn">
                        <i class="fas fa-upload"></i> Ø±ÙØ¹ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
                    </button>
                    
                    <div class="table-container">
                        <table id="filesTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>
                                    <th>Ø§Ù„Ø­Ø¬Ù…</th>
                                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¹</th>
                                    <th>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ÙˆÙ†</th>
                                    <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="filesTableBody">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© -->
                <div class="content-section" id="exams">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-tasks"></i> Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h3>
                    
                    <div class="table-container">
                        <table id="examsTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</th>
                                    <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</th>
                                    <th>Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚ÙŠÙ‚Ø©)</th>
                                    <th>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ÙˆÙ†</th>
                                    <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="examsTableBody">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯ -->
                <div class="content-section" id="add-exam">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯</h3>
                    
                    <div class="form-container">
                        <div class="form-group">
                            <label for="examName">Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</label>
                            <input type="text" id="examName" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="examDuration">Ù…Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø¯Ù‚ÙŠÙ‚Ø©)</label>
                                <input type="number" id="examDuration" class="form-control" value="60">
                            </div>
                            
                            <div class="form-group">
                                <label for="examUsers">Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</label>
                                <select id="examUsers" class="form-control" multiple style="height: 120px;">
                                    <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</option>
                                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                                </select>
                                <small style="color: rgba(255,255,255,0.6);">Ø§Ø¶ØºØ· Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¹Ù„Ù‰ Ctrl Ù„ØªØ­Ø¯ÙŠØ¯ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù…</small>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                            <div style="display: flex; gap: 20px; margin-top: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px;">
                                    <input type="radio" name="questionType" value="text" checked> ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Øµ
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px;">
                                    <input type="radio" name="questionType" value="image"> Ø±ÙØ¹ ØµÙˆØ±Ø©
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group" id="textQuestion">
                            <label for="questionText">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                            <textarea id="questionText" class="form-control" rows="3" placeholder="Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§"></textarea>
                        </div>
                        
                        <div class="form-group" id="imageQuestion" style="display: none;">
                            <label>Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                            <div class="file-upload" id="questionImageUpload">
                                <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
                                <input type="file" id="questionImage" accept="image/*" style="display: none;">
                            </div>
                        </div>
                        
                        <div class="question-options">
                            <h4 style="margin-bottom: 15px;">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</h4>
                            
                            <div id="optionsContainer">
                                <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                            </div>
                            
                            <button type="button" class="btn" style="width: auto; margin-top: 15px;" id="addOptionBtn">
                                <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø±
                            </button>
                        </div>
                        
                        <button class="btn" style="margin-top: 30px;" id="saveExamBtn">
                            <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                        </button>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø³ØªØ±ÙŠÙƒ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <div class="content-section" id="streaks">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-fire"></i> Ø³ØªØ±ÙŠÙƒ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                    
                    <div class="table-container">
                        <table id="streaksTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                                    <th>Ø³ØªØ±ÙŠÙƒ Ø§Ù„Ø¯Ø®ÙˆÙ„</th>
                                    <th>Ø¢Ø®Ø± Ø¯Ø®ÙˆÙ„</th>
                                    <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£ÙŠØ§Ù… Ø§Ù„Ø¯Ø®ÙˆÙ„</th>
                                </tr>
                            </thead>
                            <tbody id="streaksTableBody">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª -->
                <div class="content-section" id="subscriptions">
                    <h3 style="margin-bottom: 20px;"><i class="fas fa-calendar-check"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                    
                    <div class="table-container">
                        <table id="subscriptionsTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</th>
                                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>
                                    <th>Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©</th>
                                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    <th>ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</th>
                                </tr>
                            </thead>
                            <tbody id="subscriptionsTableBody">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ -->
    <div id="addUserModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center;">
        <div style="background: var(--dark); border-radius: 20px; padding: 30px; width: 90%; max-width: 500px; border: 1px solid rgba(255,255,255,0.1);">
            <h3 style="margin-bottom: 20px;"><i class="fas fa-user-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</h3>
            
            <div class="form-group">
                <label for="newUsername">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="newUsername" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
            </div>
            
            <div class="form-group">
                <label for="newUserEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input type="email" id="newUserEmail" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            </div>
            
            <div class="form-group">
                <label for="newUserPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input type="password" id="newUserPassword" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            </div>
            
            <div class="form-group">
                <label for="subscriptionDays">Ù…Ø¯Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ (Ø£ÙŠØ§Ù…)</label>
                <input type="number" id="subscriptionDays" class="form-control" value="30" min="1">
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn" style="flex: 1;" id="saveUserBtn">Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</button>
                <button class="btn" style="flex: 1; background: rgba(255,255,255,0.1);" id="cancelUserBtn">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ -->
    <div id="addFileModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center;">
        <div style="background: var(--dark); border-radius: 20px; padding: 30px; width: 90%; max-width: 500px; border: 1px solid rgba(255,255,255,0.1);">
            <h3 style="margin-bottom: 20px;"><i class="fas fa-file-upload"></i> Ø±ÙØ¹ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯</h3>
            
            <div class="form-group">
                <label for="fileName">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</label>
                <input type="text" id="fileName" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù">
            </div>
            
            <div class="form-group">
                <label>Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù</label>
                <div class="file-upload" id="fileUploadArea">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; margin-bottom: 10px;"></i>
                    <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
                    <input type="file" id="fileInput" style="display: none;">
                </div>
                <div id="selectedFileName" style="margin-top: 10px; color: rgba(255,255,255,0.7);"></div>
            </div>
            
            <div class="form-group">
                <label for="fileUsers">Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</label>
                <select id="fileUsers" class="form-control" multiple style="height: 120px;">
                    <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</option>
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ JavaScript -->
                </select>
                <small style="color: rgba(255,255,255,0.6);">Ø§Ø¶ØºØ· Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¹Ù„Ù‰ Ctrl Ù„ØªØ­Ø¯ÙŠØ¯ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù…</small>
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 25px;">
                <button class="btn" style="flex: 1;" id="saveFileBtn">Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù</button>
                <button class="btn" style="flex: 1; background: rgba(255,255,255,0.1);" id="cancelFileBtn">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let appData = {
            currentUser: null,
            users: [
                {id: 1, username: "admin", password: "admin", email: "admin@fyo.com", role: "admin", joinDate: "2023-01-01", subscriptionDays: 9999, subscriptionStart: "2023-01-01", lastLogin: "", streak: 0, totalLogins: 0},
                {id: 2, username: "Ø·Ø§Ù„Ø¨1", password: "123456", email: "student1@fyo.com", role: "student", joinDate: "2023-10-01", subscriptionDays: 30, subscriptionStart: "2023-10-01", lastLogin: "", streak: 5, totalLogins: 12},
                {id: 3, username: "Ø·Ø§Ù„Ø¨2", password: "123456", email: "student2@fyo.com", role: "student", joinDate: "2023-10-15", subscriptionDays: 15, subscriptionStart: "2023-10-15", lastLogin: "", streak: 3, totalLogins: 8},
                {id: 4, username: "Ø·Ø§Ù„Ø¨3", password: "123456", email: "student3@fyo.com", role: "student", joinDate: "2023-10-20", subscriptionDays: 7, subscriptionStart: "2023-10-20", lastLogin: "", streak: 1, totalLogins: 3}
            ],
            files: [
                {id: 1, name: "Ù…Ù„Ù Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„.pdf", size: "2.4 MB", uploadDate: "2023-10-10", selectedUsers: ["all"]},
                {id: 2, name: "Ø£Ø³Ø¦Ù„Ø© Ù‚Ø¯Ø±Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ§Øª.docx", size: "1.8 MB", uploadDate: "2023-10-12", selectedUsers: [2, 3]},
                {id: 3, name: "Ù†Ù…ÙˆØ°Ø¬ Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ…ÙŠ.pdf", size: "3.2 MB", uploadDate: "2023-10-18", selectedUsers: [2]}
            ],
            exams: [
                {id: 1, name: "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ 1", questions: 20, duration: 60, selectedUsers: ["all"], questionsData: []},
                {id: 2, name: "Ø§Ø®ØªØ¨Ø§Ø± Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…", questions: 15, duration: 45, selectedUsers: [2, 3], questionsData: []},
                {id: 3, name: "Ø§Ø®ØªØ¨Ø§Ø± Ù„ÙØ¸ÙŠ Ø³Ø±ÙŠØ¹", questions: 10, duration: 30, selectedUsers: [2], questionsData: []}
            ],
            nextUserId: 5,
            nextFileId: 4,
            nextExamId: 4
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // ØªØ¹ÙŠÙŠÙ† Ø­Ø¯Ø« ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('adminLogin').addEventListener('click', adminLogin);
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
                    document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯
                    this.classList.add('active');
                    
                    // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                });
            });
            
            // ØªØ¹ÙŠÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.getElementById('addUserBtn').addEventListener('click', showAddUserModal);
            document.getElementById('saveUserBtn').addEventListener('click', saveNewUser);
            document.getElementById('cancelUserBtn').addEventListener('click', hideAddUserModal);
            
            document.getElementById('addFileBtn').addEventListener('click', showAddFileModal);
            document.getElementById('saveFileBtn').addEventListener('click', saveNewFile);
            document.getElementById('cancelFileBtn').addEventListener('click', hideAddFileModal);
            document.getElementById('fileUploadArea').addEventListener('click', () => document.getElementById('fileInput').click());
            document.getElementById('fileInput').addEventListener('change', handleFileSelect);
            
            // Ø£Ø­Ø¯Ø§Ø« Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
            document.querySelectorAll('input[name="questionType"]').forEach(radio => {
                radio.addEventListener('change', toggleQuestionType);
            });
            
            document.getElementById('addOptionBtn').addEventListener('click', addQuestionOption);
            document.getElementById('saveExamBtn').addEventListener('click', saveNewExam);
            document.getElementById('questionImageUpload').addEventListener('click', () => document.getElementById('questionImage').click());
            
            // ØªÙ‡ÙŠØ¦Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            initializeQuestionOptions();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
            updateUsersTable();
            updateFilesTable();
            updateExamsTable();
            updateStreaksTable();
            updateSubscriptionsTable();
            
            // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
            updateUserSelectOptions();
        });
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            const user = appData.users.find(u => u.username === username && u.password === password);
            
            if (user) {
                loginUser(user);
            } else {
                alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„
        function adminLogin() {
            const adminUser = appData.users.find(u => u.username === "admin" && u.password === "admin");
            if (adminUser) {
                document.getElementById('username').value = "admin";
                document.getElementById('password').value = "admin";
                loginUser(adminUser);
            }
        }
        
        // Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function loginUser(user) {
            appData.currentUser = user;
            
            // ØªØ­Ø¯ÙŠØ« Ø¢Ø®Ø± Ø¯Ø®ÙˆÙ„ ÙˆØ³ØªØ±ÙŠÙƒ
            const today = new Date().toISOString().split('T')[0];
            const lastLoginDate = user.lastLogin;
            
            if (lastLoginDate) {
                const lastLogin = new Date(lastLoginDate);
                const todayDate = new Date(today);
                const diffTime = Math.abs(todayDate - lastLogin);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) {
                    // Ø¯Ø®ÙˆÙ„ Ù…ØªØªØ§Ù„ÙŠ
                    user.streak++;
                } else if (diffDays > 1) {
                    // ÙƒØ³Ø± Ø§Ù„Ø³ØªØ±ÙŠÙƒ
                    user.streak = 1;
                }
            } else {
                // Ø£ÙˆÙ„ Ø¯Ø®ÙˆÙ„
                user.streak = 1;
            }
            
            user.lastLogin = today;
            user.totalLogins++;
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            document.getElementById('userName').textContent = user.username;
            document.getElementById('userRole').textContent = user.role === 'admin' ? 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…' : 'Ø·Ø§Ù„Ø¨';
            document.getElementById('greetingName').textContent = user.username;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„
            updateStats();
            updateUsersTable();
            updateStreaksTable();
            updateSubscriptionsTable();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            const welcomeMessages = [
                "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ ÙÙŠ Ù…Ù†ØµØ© FYO Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©!",
                "Ø³Ø¹ÙŠØ¯ÙˆÙ† Ø¨Ø¹ÙˆØ¯ØªÙƒ! Ø¬Ø§Ù‡Ø²ÙˆÙ† Ù„Ø¬Ù„Ø³Ø© Ø¯Ø±Ø§Ø³Ø© Ù…Ø«Ù…Ø±Ø©ØŸ",
                "Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹! Ù„Ù‚Ø¯ ÙØªØ­Ù†Ø§ Ù„Ùƒ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ Ù„Ù„ØªØ¹Ù„Ù…."
            ];
            
            const randomMessage = welcomeMessages[Math.floor(Math.random() * welcomeMessages.length)];
            document.getElementById('welcomeMessage').querySelector('p').textContent = randomMessage;
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            appData.currentUser = null;
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateStats() {
            document.getElementById('totalUsers').textContent = appData.users.filter(u => u.role === 'student').length;
            document.getElementById('totalFiles').textContent = appData.files.length;
            document.getElementById('totalExams').textContent = appData.exams.length;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø£Ù‚Ù„ Ù…Ù† 3 Ø£ÙŠØ§Ù…)
            const today = new Date();
            let expiringCount = 0;
            
            appData.users.forEach(user => {
                if (user.role === 'student' && user.subscriptionStart) {
                    const startDate = new Date(user.subscriptionStart);
                    const endDate = new Date(startDate);
                    endDate.setDate(endDate.getDate() + user.subscriptionDays);
                    
                    const diffTime = endDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays > 0 && diffDays <= 3) {
                        expiringCount++;
                    }
                }
            });
            
            document.getElementById('expiringSubs').textContent = expiringCount;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        function updateUsersTable() {
            const tbody = document.getElementById('usersTableBody');
            tbody.innerHTML = '';
            
            appData.users.forEach(user => {
                if (user.role === 'student') {
                    const startDate = new Date(user.subscriptionStart);
                    const endDate = new Date(startDate);
                    endDate.setDate(endDate.getDate() + user.subscriptionDays);
                    
                    const today = new Date();
                    const diffTime = endDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    let status = '';
                    let statusClass = '';
                    
                    if (diffDays <= 0) {
                        status = 'Ù…Ù†ØªÙ‡ÙŠ';
                        statusClass = 'delete-btn';
                    } else if (diffDays <= 3) {
                        status = `ÙŠÙ†ØªÙ‡ÙŠ Ø®Ù„Ø§Ù„ ${diffDays} Ø£ÙŠØ§Ù…`;
                        statusClass = 'edit-btn';
                    } else {
                        status = 'Ù†Ø´Ø·';
                        statusClass = '';
                    }
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${user.id}</td>
                        <td>${user.username}</td>
                        <td>${user.email}</td>
                        <td>${user.joinDate}</td>
                        <td>${user.subscriptionDays} ÙŠÙˆÙ…</td>
                        <td><span class="${statusClass}">${status}</span></td>
                        <td>
                            <button class="action-btn edit-btn" onclick="renewSubscription(${user.id})">
                                <i class="fas fa-redo"></i> ØªØ¬Ø¯ÙŠØ¯
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteUser(${user.id})">
                                <i class="fas fa-trash"></i> Ø­Ø°Ù
                            </button>
                        </td>
                    `;
                    tbody.appendChild(row);
                }
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª
        function updateFilesTable() {
            const tbody = document.getElementById('filesTableBody');
            tbody.innerHTML = '';
            
            appData.files.forEach(file => {
                let usersText = '';
                if (file.selectedUsers.includes('all')) {
                    usersText = 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†';
                } else {
                    const userNames = file.selectedUsers.map(userId => {
                        const user = appData.users.find(u => u.id === userId);
                        return user ? user.username : '';
                    }).filter(name => name !== '');
                    usersText = userNames.join('ØŒ ');
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${file.id}</td>
                    <td>${file.name}</td>
                    <td>${file.size}</td>
                    <td>${file.uploadDate}</td>
                    <td>${usersText}</td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editFile(${file.id})">
                            <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„
                        </button>
                        <button class="action-btn delete-btn" onclick="deleteFile(${file.id})">
                            <i class="fas fa-trash"></i> Ø­Ø°Ù
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
        function updateExamsTable() {
            const tbody = document.getElementById('examsTableBody');
            tbody.innerHTML = '';
            
            appData.exams.forEach(exam => {
                let usersText = '';
                if (exam.selectedUsers.includes('all')) {
                    usersText = 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†';
                } else {
                    const userNames = exam.selectedUsers.map(userId => {
                        const user = appData.users.find(u => u.id === userId);
                        return user ? user.username : '';
                    }).filter(name => name !== '');
                    usersText = userNames.join('ØŒ ');
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${exam.id}</td>
                    <td>${exam.name}</td>
                    <td>${exam.questions}</td>
                    <td>${exam.duration}</td>
                    <td>${usersText}</td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editExam(${exam.id})">
                            <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„
                        </button>
                        <button class="action-btn delete-btn" onclick="deleteExam(${exam.id})">
                            <i class="fas fa-trash"></i> Ø­Ø°Ù
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³ØªØ±ÙŠÙƒ
        function updateStreaksTable() {
            const tbody = document.getElementById('streaksTableBody');
            tbody.innerHTML = '';
            
            appData.users.forEach(user => {
                if (user.role === 'student') {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${user.id}</td>
                        <td>${user.username}</td>
                        <td>
                            <div class="streak-container" style="padding: 5px 10px; margin: 0;">
                                <div class="streak-days" style="font-size: 1.5rem;">${user.streak}</div>
                                <div><i class="fas fa-fire" style="color: #ff8a00;"></i></div>
                            </div>
                        </td>
                        <td>${user.lastLogin || 'Ù„Ù… ÙŠØ³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø¹Ø¯'}</td>
                        <td>${user.totalLogins} ÙŠÙˆÙ…</td>
                    `;
                    tbody.appendChild(row);
                }
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
        function updateSubscriptionsTable() {
            const tbody = document.getElementById('subscriptionsTableBody');
            tbody.innerHTML = '';
            
            appData.users.forEach(user => {
                if (user.role === 'student') {
                    const startDate = new Date(user.subscriptionStart);
                    const endDate = new Date(startDate);
                    endDate.setDate(endDate.getDate() + user.subscriptionDays);
                    
                    const today = new Date();
                    const diffTime = endDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    let status = '';
                    let statusClass = '';
                    
                    if (diffDays <= 0) {
                        status = 'Ù…Ù†ØªÙ‡ÙŠ';
                        statusClass = 'delete-btn';
                    } else if (diffDays <= 3) {
                        status = `ÙŠÙ†ØªÙ‡ÙŠ Ø®Ù„Ø§Ù„ ${diffDays} Ø£ÙŠØ§Ù…`;
                        statusClass = 'edit-btn';
                    } else {
                        status = 'Ù†Ø´Ø·';
                        statusClass = '';
                    }
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${user.id}</td>
                        <td>${user.username}</td>
                        <td>${user.subscriptionStart}</td>
                        <td>${endDate.toISOString().split('T')[0]}</td>
                        <td>${diffDays > 0 ? diffDays : 'Ø§Ù†ØªÙ‡Ù‰'}</td>
                        <td><span class="${statusClass}">${status}</span></td>
                        <td>
                            <button class="action-btn edit-btn" onclick="renewSubscription(${user.id})">
                                <i class="fas fa-calendar-plus"></i> ØªØ¬Ø¯ÙŠØ¯
                            </button>
                        </td>
                    `;
                    tbody.appendChild(row);
                }
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
        function updateUserSelectOptions() {
            const examUsersSelect = document.getElementById('examUsers');
            const fileUsersSelect = document.getElementById('fileUsers');
            
            // Ù…Ø³Ø­ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            examUsersSelect.innerHTML = '<option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</option>';
            fileUsersSelect.innerHTML = '<option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</option>';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            appData.users.forEach(user => {
                if (user.role === 'student') {
                    const option1 = document.createElement('option');
                    option1.value = user.id;
                    option1.textContent = user.username;
                    examUsersSelect.appendChild(option1);
                    
                    const option2 = document.createElement('option');
                    option2.value = user.id;
                    option2.textContent = user.username;
                    fileUsersSelect.appendChild(option2);
                }
            });
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
        function showAddUserModal() {
            document.getElementById('addUserModal').style.display = 'flex';
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
        function hideAddUserModal() {
            document.getElementById('addUserModal').style.display = 'none';
            document.getElementById('newUsername').value = '';
            document.getElementById('newUserEmail').value = '';
            document.getElementById('newUserPassword').value = '';
            document.getElementById('subscriptionDays').value = '30';
        }
        
        // Ø­ÙØ¸ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
        function saveNewUser() {
            const username = document.getElementById('newUsername').value;
            const email = document.getElementById('newUserEmail').value;
            const password = document.getElementById('newUserPassword').value;
            const subscriptionDays = parseInt(document.getElementById('subscriptionDays').value);
            
            if (!username || !email || !password) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (appData.users.some(u => u.username === username)) {
                alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹');
                return;
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const newUser = {
                id: appData.nextUserId++,
                username: username,
                password: password,
                email: email,
                role: 'student',
                joinDate: new Date().toISOString().split('T')[0],
                subscriptionDays: subscriptionDays,
                subscriptionStart: new Date().toISOString().split('T')[0],
                lastLogin: '',
                streak: 0,
                totalLogins: 0
            };
            
            appData.users.push(newUser);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats();
            updateUsersTable();
            updateStreaksTable();
            updateSubscriptionsTable();
            updateUserSelectOptions();
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            hideAddUserModal();
            
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');
        }
        
        // ØªØ¬Ø¯ÙŠØ¯ Ø§Ø´ØªØ±Ø§Ùƒ Ù…Ø³ØªØ®Ø¯Ù…
        function renewSubscription(userId) {
            const user = appData.users.find(u => u.id === userId);
            
            if (user) {
                const days = prompt(`Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ø´ØªØ±Ø§Ùƒ ${user.username}:`, "30");
                
                if (days && !isNaN(days) && parseInt(days) > 0) {
                    user.subscriptionDays += parseInt(days);
                    user.subscriptionStart = new Date().toISOString().split('T')[0];
                    
                    updateUsersTable();
                    updateSubscriptionsTable();
                    alert(`ØªÙ… ØªØ¬Ø¯ÙŠØ¯ Ø§Ø´ØªØ±Ø§Ùƒ ${user.username} Ù„Ù…Ø¯Ø© ${days} ÙŠÙˆÙ… Ø¥Ø¶Ø§ÙÙŠ`);
                }
            }
        }
        
        // Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
        function deleteUser(userId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')) {
                appData.users = appData.users.filter(u => u.id !== userId);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateStats();
                updateUsersTable();
                updateStreaksTable();
                updateSubscriptionsTable();
                updateUserSelectOptions();
                
                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');
            }
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
        function showAddFileModal() {
            document.getElementById('addFileModal').style.display = 'flex';
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
        function hideAddFileModal() {
            document.getElementById('addFileModal').style.display = 'none';
            document.getElementById('fileName').value = '';
            document.getElementById('selectedFileName').textContent = '';
        }
        
        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù
        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                document.getElementById('selectedFileName').textContent = `Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø­Ø¯Ø¯: ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
            }
        }
        
        // Ø­ÙØ¸ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
        function saveNewFile() {
            const fileName = document.getElementById('fileName').value;
            const fileInput = document.getElementById('fileInput');
            const selectedUsers = Array.from(document.getElementById('fileUsers').selectedOptions).map(option => option.value === 'all' ? 'all' : parseInt(option.value));
            
            if (!fileName || fileInput.files.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù ÙˆØ§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ù„Ø±ÙØ¹Ù‡');
                return;
            }
            
            const file = fileInput.files[0];
            const fileSize = (file.size / 1024 / 1024).toFixed(2) + ' MB';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const newFile = {
                id: appData.nextFileId++,
                name: fileName + '.' + file.name.split('.').pop(),
                size: fileSize,
                uploadDate: new Date().toISOString().split('T')[0],
                selectedUsers: selectedUsers
            };
            
            appData.files.push(newFile);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats();
            updateFilesTable();
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            hideAddFileModal();
            
            alert('ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­');
        }
        
        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ù
        function editFile(fileId) {
            const file = appData.files.find(f => f.id === fileId);
            
            if (file) {
                const newName = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ù„Ù:', file.name);
                
                if (newName) {
                    file.name = newName;
                    updateFilesTable();
                    alert('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­');
                }
            }
        }
        
        // Ø­Ø°Ù Ù…Ù„Ù
        function deleteFile(fileId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„ÙØŸ')) {
                appData.files = appData.files.filter(f => f.id !== fileId);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateStats();
                updateFilesTable();
                
                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­');
            }
        }
        
        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø±
        function editExam(examId) {
            const exam = appData.exams.find(e => e.id === examId);
            
            if (exam) {
                const newName = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±:', exam.name);
                
                if (newName) {
                    exam.name = newName;
                    updateExamsTable();
                    alert('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');
                }
            }
        }
        
        // Ø­Ø°Ù Ø§Ø®ØªØ¨Ø§Ø±
        function deleteExam(examId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ')) {
                appData.exams = appData.exams.filter(e => e.id !== examId);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateStats();
                updateExamsTable();
                
                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');
            }
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„ (Ù†Øµ/ØµÙˆØ±Ø©)
        function toggleQuestionType() {
            const questionType = document.querySelector('input[name="questionType"]:checked').value;
            
            if (questionType === 'text') {
                document.getElementById('textQuestion').style.display = 'block';
                document.getElementById('imageQuestion').style.display = 'none';
            } else {
                document.getElementById('textQuestion').style.display = 'none';
                document.getElementById('imageQuestion').style.display = 'block';
            }
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function initializeQuestionOptions() {
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            // Ø¥Ø¶Ø§ÙØ© 4 Ø®ÙŠØ§Ø±Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            for (let i = 0; i < 4; i++) {
                addQuestionOption();
            }
            
            // ØªØ­Ø¯ÙŠØ¯ Ø£ÙˆÙ„ Ø®ÙŠØ§Ø± ÙƒØ¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
            document.getElementById('correctOption0').checked = true;
            document.getElementById('optionItem0').classList.add('correct-option');
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø± Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
        function addQuestionOption() {
            const optionsContainer = document.getElementById('optionsContainer');
            const optionIndex = optionsContainer.children.length;
            
            const optionItem = document.createElement('div');
            optionItem.className = 'option-item';
            optionItem.id = `optionItem${optionIndex}`;
            
            optionItem.innerHTML = `
                <input type="radio" name="correctOption" id="correctOption${optionIndex}" onchange="markCorrectOption(${optionIndex})">
                <input type="text" class="form-control" placeholder="Ù†Øµ Ø§Ù„Ø®ÙŠØ§Ø± ${optionIndex + 1}" id="optionText${optionIndex}">
                <button type="button" class="action-btn delete-btn" onclick="removeOption(${optionIndex})" ${optionIndex < 2 ? 'disabled' : ''}>
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            optionsContainer.appendChild(optionItem);
            
            // ØªØ¹ÙŠÙŠÙ† Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
            document.getElementById(`correctOption${optionIndex}`).addEventListener('change', function() {
                markCorrectOption(optionIndex);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„ØµØ­ÙŠØ­
        function markCorrectOption(optionIndex) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            document.querySelectorAll('.option-item').forEach(item => {
                item.classList.remove('correct-option');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù„Ù„Ø®ÙŠØ§Ø± Ø§Ù„ØµØ­ÙŠØ­
            document.getElementById(`optionItem${optionIndex}`).classList.add('correct-option');
        }
        
        // Ø¥Ø²Ø§Ù„Ø© Ø®ÙŠØ§Ø±
        function removeOption(optionIndex) {
            const optionItem = document.getElementById(`optionItem${optionIndex}`);
            if (optionItem && document.querySelectorAll('.option-item').length > 2) {
                optionItem.remove();
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±Ù‚ÙŠÙ… Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
                const remainingOptions = document.querySelectorAll('.option-item');
                remainingOptions.forEach((item, index) => {
                    item.id = `optionItem${index}`;
                    
                    const radio = item.querySelector('input[type="radio"]');
                    radio.id = `correctOption${index}`;
                    radio.onchange = function() { markCorrectOption(index); };
                    
                    const textInput = item.querySelector('input[type="text"]');
                    textInput.id = `optionText${index}`;
                    textInput.placeholder = `Ù†Øµ Ø§Ù„Ø®ÙŠØ§Ø± ${index + 1}`;
                    
                    const removeBtn = item.querySelector('button');
                    removeBtn.onclick = function() { removeOption(index); };
                    removeBtn.disabled = index < 2;
                });
            }
        }
        
        // Ø­ÙØ¸ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯
        function saveNewExam() {
            const examName = document.getElementById('examName').value;
            const examDuration = parseInt(document.getElementById('examDuration').value);
            const selectedUsers = Array.from(document.getElementById('examUsers').selectedOptions).map(option => option.value === 'all' ? 'all' : parseInt(option.value));
            const questionType = document.querySelector('input[name="questionType"]:checked').value;
            
            if (!examName) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                return;
            }
            
            // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø¤Ø§Ù„
            const questionText = document.getElementById('questionText').value;
            const questionOptions = [];
            let correctAnswerIndex = -1;
            
            document.querySelectorAll('.option-item').forEach((item, index) => {
                const optionText = document.getElementById(`optionText${index}`).value;
                const isCorrect = document.getElementById(`correctOption${index}`).checked;
                
                if (optionText) {
                    questionOptions.push(optionText);
                    
                    if (isCorrect) {
                        correctAnswerIndex = index;
                    }
                }
            });
            
            if (questionType === 'text' && !questionText) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„');
                return;
            }
            
            if (questionOptions.length < 2) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø®ÙŠØ§Ø±ÙŠÙ† Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©');
                return;
            }
            
            if (correctAnswerIndex === -1) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const newExam = {
                id: appData.nextExamId++,
                name: examName,
                questions: 1, // ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø³ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø¤Ø§Ù„
                duration: examDuration,
                selectedUsers: selectedUsers,
                questionsData: [{
                    type: questionType,
                    text: questionText,
                    options: questionOptions,
                    correctAnswer: correctAnswerIndex
                }]
            };
            
            appData.exams.push(newExam);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats();
            updateExamsTable();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('examName').value = '';
            document.getElementById('examDuration').value = '60';
            document.getElementById('questionText').value = '';
            initializeQuestionOptions();
            
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');
        }
    </script>
</body>
</html>
